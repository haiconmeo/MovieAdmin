{"ast":null,"code":"var _jsxFileName = \"D:\\\\DATN\\\\MovieAdmin\\\\src\\\\components\\\\Cards\\\\CardMovieDetail.js\";\nimport React, { useState } from 'react';\nimport { toast } from \"react-toastify\";\nimport Swal from 'sweetalert2';\nimport axios from \"axios\";\nimport { Button, Modal } from 'react-bootstrap';\n\nconst CardMovieDetail = props => {\n  const [newmovie, setnewmovie] = useState({\n    Movie: '',\n    Year: '',\n    Content: ''\n  });\n  const [modalInfo, setmodalInfo] = useState([]);\n  const [showModal, setshowModal] = useState(false);\n  const [show, setshow] = useState(false);\n  const [image, setimage] = useState();\n\n  function handleChange(e) {\n    const {\n      name,\n      value\n    } = e.target;\n    setnewmovie(newmovie => ({ ...newmovie,\n      [name]: value\n    }));\n    console.log(newmovie);\n  }\n\n  async function handleSubmit(e) {\n    console.log(\"kjhgfds\");\n    e.preventDefault();\n\n    try {\n      const formData = new FormData();\n      formData.append(\"Image\", image);\n      formData.append(\"Movie\", newmovie['Movie']);\n      formData.append(\"Content\", newmovie['Content']);\n      formData.append(\"Year\", newmovie['Year']); // I just removed the curly brackets from formData\n\n      const response = await axios.post(\"http://127.0.0.1:8000/api/new_movie\", formData);\n      props.refetchData();\n      toast.success(\"update thanh cong\");\n    } catch (err) {\n      console.error(err.message);\n    }\n  }\n\n  const delete_item = async id => {\n    Swal.fire({\n      title: \"muon xoa thiet ha?\",\n      text: \"thiet hong dzo?\",\n      icon: \"warning\",\n      showCancelButton: true,\n      confirmButtonText: \"oke toi luon\",\n      cancelButtonText: \"Há»§y\"\n    }).then(result => {\n      if (result.isConfirmed) {\n        let callAPI = \"http://127.0.0.1:8000/api/movie_ID/\" + id.toString();\n\n        try {\n          const data = axios({\n            method: \"DELETE\",\n            url: callAPI\n          }).then(res => {\n            props.refetchData();\n            toast.success(\"Xong roofi nha em yeu\");\n          });\n        } catch (e) {\n          console.log(e);\n        }\n      }\n    });\n  };\n\n  const {\n    data\n  } = props;\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"td\", {\n    className: \"border-t-0 px-6 align-middle border-l-0 border-r-0 t-xs whitespace-no-wrap p-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 13\n    }\n  }, data.id), /*#__PURE__*/React.createElement(\"td\", {\n    className: \"border-t-0 px-6 align-middle border-l-0 border-r-0 t-xs whitespace-no-wrap p-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 13\n    }\n  }, data.Movie), /*#__PURE__*/React.createElement(\"td\", {\n    className: \"border-t-0 px-6 align-middle border-l-0 border-r-0 t-xs whitespace-no-wrap p-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 17\n    }\n  }, data.Year)), /*#__PURE__*/React.createElement(\"td\", {\n    className: \"border-t-0 px-6 align-middle border-l-0 border-r-0 t-xs whitespace-no-wrap p-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 17\n    }\n  }, data.Image)), /*#__PURE__*/React.createElement(\"td\", {\n    className: \"border-t-0 px-6 align-middle border-l-0 border-r-0 t-xs whitespace-no-wrap p-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    className: \"btn btn-dark mr-3\",\n    \"data-toggle\": \"modal\",\n    \"data-target\": \"#exampleModalLong\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 17\n    }\n  }, \"EDIT\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"modal fade\",\n    id: \"exampleModalLong{{data.id}}\",\n    tabIndex: -1,\n    role: \"dialog\",\n    \"aria-labelledby\": \"exampleModalLongTitle\",\n    \"aria-hidden\": \"true\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"modal-dialog\",\n    role: \"document\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"modal-content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"modal-header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"h5\", {\n    className: \"modal-title\",\n    id: \"exampleModalLongTitle\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 33\n    }\n  }, \"Modal title\"), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    className: \"close\",\n    \"data-dismiss\": \"modal\",\n    \"aria-label\": \"Close\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    \"aria-hidden\": \"true\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 37\n    }\n  }, \"\\xD7\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"modal-body\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    name: \"form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 41\n    }\n  }, \"Movie\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    className: \"form-control\",\n    name: \"Movie\",\n    value: data.Movie,\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 41\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 41\n    }\n  }, \"Year\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    className: \"form-control\",\n    name: \"Year\",\n    value: data.Year,\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 41\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 41\n    }\n  }, \"Content\"), /*#__PURE__*/React.createElement(\"textarea\", {\n    type: \"text\",\n    className: \"form-control\",\n    name: \"Content\",\n    value: data.Content,\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 41\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 41\n    }\n  }, \"image\"), /*#__PURE__*/React.createElement(\"img\", {\n    src: data.Image,\n    alt: \"image\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 41\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"file\",\n    className: \"form-control\",\n    name: \"Image\",\n    onChange: e => setimage(e.target.files[0]),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 41\n    }\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"modal-footer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    className: \"btn btn-secondary\",\n    \"data-dismiss\": \"modal\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 33\n    }\n  }, \"Close\"), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    className: \"btn btn-primary\",\n    onClick: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 33\n    }\n  }, \"Send\"))))), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    className: \"btn btn-danger\",\n    onClick: () => delete_item(data.id),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 17\n    }\n  }, \"DELETE\")));\n};\n\nexport default CardMovieDetail;","map":{"version":3,"sources":["D:/DATN/MovieAdmin/src/components/Cards/CardMovieDetail.js"],"names":["React","useState","toast","Swal","axios","Button","Modal","CardMovieDetail","props","newmovie","setnewmovie","Movie","Year","Content","modalInfo","setmodalInfo","showModal","setshowModal","show","setshow","image","setimage","handleChange","e","name","value","target","console","log","handleSubmit","preventDefault","formData","FormData","append","response","post","refetchData","success","err","error","message","delete_item","id","fire","title","text","icon","showCancelButton","confirmButtonText","cancelButtonText","then","result","isConfirmed","callAPI","toString","data","method","url","res","Image","files"],"mappings":";AAAA,OAAOA,KAAP,IAAcC,QAAd,QAA6B,OAA7B;AACA,SAASC,KAAT,QAAsB,gBAAtB;AACA,OAAOC,IAAP,MAAiB,aAAjB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,MAAT,EAAiBC,KAAjB,QAA8B,iBAA9B;;AACA,MAAMC,eAAe,GAAIC,KAAD,IAAW;AAC/B,QAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BT,QAAQ,CAAC;AACrCU,IAAAA,KAAK,EAAC,EAD+B;AAErCC,IAAAA,IAAI,EAAC,EAFgC;AAGrCC,IAAAA,OAAO,EAAC;AAH6B,GAAD,CAAxC;AAOA,QAAM,CAACC,SAAD,EAAWC,YAAX,IAA2Bd,QAAQ,CAAC,EAAD,CAAzC;AACA,QAAM,CAACe,SAAD,EAAWC,YAAX,IAA2BhB,QAAQ,CAAC,KAAD,CAAzC;AACA,QAAM,CAACiB,IAAD,EAAMC,OAAN,IAAiBlB,QAAQ,CAAC,KAAD,CAA/B;AAEA,QAAM,CAACmB,KAAD,EAAQC,QAAR,IAAoBpB,QAAQ,EAAlC;;AACA,WAASqB,YAAT,CAAsBC,CAAtB,EAAwB;AAEtB,UAAM;AAACC,MAAAA,IAAD;AAAMC,MAAAA;AAAN,QAAeF,CAAC,CAACG,MAAvB;AACAhB,IAAAA,WAAW,CAACD,QAAQ,KAAG,EAAC,GAAGA,QAAJ;AAAa,OAACe,IAAD,GAAOC;AAApB,KAAH,CAAT,CAAX;AACAE,IAAAA,OAAO,CAACC,GAAR,CAAYnB,QAAZ;AACD;;AACD,iBAAgBoB,YAAhB,CAA6BN,CAA7B,EAA+B;AAC3BI,IAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ;AACAL,IAAAA,CAAC,CAACO,cAAF;;AACA,QAAI;AACF,YAAMC,QAAQ,GAAG,IAAIC,QAAJ,EAAjB;AAEAD,MAAAA,QAAQ,CAACE,MAAT,CAAgB,OAAhB,EAAwBb,KAAxB;AACAW,MAAAA,QAAQ,CAACE,MAAT,CAAgB,OAAhB,EAAyBxB,QAAQ,CAAC,OAAD,CAAjC;AACAsB,MAAAA,QAAQ,CAACE,MAAT,CAAgB,SAAhB,EAA2BxB,QAAQ,CAAC,SAAD,CAAnC;AACAsB,MAAAA,QAAQ,CAACE,MAAT,CAAgB,MAAhB,EAAwBxB,QAAQ,CAAC,MAAD,CAAhC,EANE,CAOF;;AACA,YAAMyB,QAAQ,GAAG,MAAM9B,KAAK,CAAC+B,IAAN,CAAW,qCAAX,EAAkDJ,QAAlD,CAAvB;AACAvB,MAAAA,KAAK,CAAC4B,WAAN;AACAlC,MAAAA,KAAK,CAACmC,OAAN,CAAc,mBAAd;AAEL,KAZG,CAYF,OAAOC,GAAP,EAAY;AACRX,MAAAA,OAAO,CAACY,KAAR,CAAcD,GAAG,CAACE,OAAlB;AACL;AACE;;AACH,QAAMC,WAAW,GAAG,MAAOC,EAAP,IAAc;AAE9BvC,IAAAA,IAAI,CAACwC,IAAL,CAAU;AACNC,MAAAA,KAAK,EAAE,oBADD;AAENC,MAAAA,IAAI,EAAE,iBAFA;AAGNC,MAAAA,IAAI,EAAE,SAHA;AAINC,MAAAA,gBAAgB,EAAE,IAJZ;AAKNC,MAAAA,iBAAiB,EAAE,cALb;AAMNC,MAAAA,gBAAgB,EAAE;AANZ,KAAV,EAQKC,IARL,CAQUC,MAAM,IAAI;AACZ,UAAIA,MAAM,CAACC,WAAX,EAAwB;AACpB,YAAIC,OAAO,GAAG,wCAAwCX,EAAE,CAACY,QAAH,EAAtD;;AACA,YAAI;AACA,gBAAMC,IAAI,GAAGnD,KAAK,CAAC;AACfoD,YAAAA,MAAM,EAAE,QADO;AAEfC,YAAAA,GAAG,EAAEJ;AAFU,WAAD,CAAL,CAGVH,IAHU,CAGLQ,GAAG,IAAI;AACXlD,YAAAA,KAAK,CAAC4B,WAAN;AAEAlC,YAAAA,KAAK,CAACmC,OAAN,CAAc,uBAAd;AACH,WAPY,CAAb;AASH,SAVD,CAWA,OAAOd,CAAP,EAAU;AACNI,UAAAA,OAAO,CAACC,GAAR,CAAYL,CAAZ;AACH;AAEJ;AACJ,KA3BL;AA4BH,GA9BD;;AA+BA,QAAM;AAAEgC,IAAAA;AAAF,MAAW/C,KAAjB;AACA,sBACI,uDACI;AAAI,IAAA,SAAS,EAAC,gFAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACK+C,IAAI,CAACb,EADV,CADJ,eAII;AAAI,IAAA,SAAS,EAAC,gFAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKa,IAAI,CAAC5C,KADV,CAJJ,eAOI;AAAI,IAAA,SAAS,EAAC,gFAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAK,IAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACK4C,IAAI,CAAC3C,IADV,CADJ,CAPJ,eAYI;AAAI,IAAA,SAAS,EAAC,gFAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAK,IAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACK2C,IAAI,CAACI,KADV,CADJ,CAZJ,eAiBI;AAAI,IAAA,SAAS,EAAC,gFAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAGI;AAAQ,IAAA,IAAI,EAAC,QAAb;AAAsB,IAAA,SAAS,EAAC,mBAAhC;AAAoD,mBAAY,OAAhE;AAAwE,mBAAY,mBAApF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAHJ,eAII;AAAK,IAAA,SAAS,EAAC,YAAf;AAA4B,IAAA,EAAE,EAAC,6BAA/B;AAA6D,IAAA,QAAQ,EAAE,CAAC,CAAxE;AAA2E,IAAA,IAAI,EAAC,QAAhF;AAAyF,uBAAgB,uBAAzG;AAAiI,mBAAY,MAA7I;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAK,IAAA,SAAS,EAAC,cAAf;AAA8B,IAAA,IAAI,EAAC,UAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAK,IAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAK,IAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAI,IAAA,SAAS,EAAC,aAAd;AAA4B,IAAA,EAAE,EAAC,uBAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBADJ,eAEI;AAAQ,IAAA,IAAI,EAAC,QAAb;AAAsB,IAAA,SAAS,EAAC,OAAhC;AAAwC,oBAAa,OAArD;AAA6D,kBAAW,OAAxE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAM,mBAAY,MAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ,CAFJ,CADJ,eAOI;AAAK,IAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAM,IAAA,IAAI,EAAC,MAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAK,IAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aADJ,eAEI;AAAO,IAAA,IAAI,EAAC,MAAZ;AAAmB,IAAA,SAAS,EAAC,cAA7B;AAA4C,IAAA,IAAI,EAAC,OAAjD;AAAyD,IAAA,KAAK,EAAEJ,IAAI,CAAC5C,KAArE;AAA4E,IAAA,QAAQ,EAAEW,YAAtF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,CADJ,eAMI;AAAK,IAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ,eAEI;AAAO,IAAA,IAAI,EAAC,MAAZ;AAAmB,IAAA,SAAS,EAAC,cAA7B;AAA4C,IAAA,IAAI,EAAC,MAAjD;AAAwD,IAAA,KAAK,EAAEiC,IAAI,CAAC3C,IAApE;AAA0E,IAAA,QAAQ,EAAEU,YAApF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,CANJ,eAWI;AAAK,IAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADJ,eAEI;AAAW,IAAA,IAAI,EAAC,MAAhB;AAAuB,IAAA,SAAS,EAAC,cAAjC;AAAgD,IAAA,IAAI,EAAC,SAArD;AAA+D,IAAA,KAAK,EAAEiC,IAAI,CAAC1C,OAA3E;AAAoF,IAAA,QAAQ,EAAES,YAA9F;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,CAXJ,eAgBI;AAAK,IAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aADJ,eAEI;AAAK,IAAA,GAAG,EAAEiC,IAAI,CAACI,KAAf;AAAsB,IAAA,GAAG,EAAG,OAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,eAGI;AAAO,IAAA,IAAI,EAAC,MAAZ;AAAmB,IAAA,SAAS,EAAC,cAA7B;AAA4C,IAAA,IAAI,EAAC,OAAjD;AAAyD,IAAA,QAAQ,EAAGpC,CAAD,IAAOF,QAAQ,CAACE,CAAC,CAACG,MAAF,CAASkC,KAAT,CAAe,CAAf,CAAD,CAAlF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHJ,CAhBJ,CADJ,CAPJ,eAmCI;AAAK,IAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAQ,IAAA,IAAI,EAAC,QAAb;AAAsB,IAAA,SAAS,EAAC,mBAAhC;AAAoD,oBAAa,OAAjE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aADJ,eAEI;AAAQ,IAAA,IAAI,EAAC,QAAb;AAAsB,IAAA,SAAS,EAAC,iBAAhC;AAAkD,IAAA,OAAO,EAAE/B,YAA3D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAFJ,CAnCJ,CADJ,CADJ,CAJJ,eAgDI;AAAQ,IAAA,IAAI,EAAC,QAAb;AAAsB,IAAA,SAAS,EAAC,gBAAhC;AAAiD,IAAA,OAAO,EAAE,MAAMY,WAAW,CAACc,IAAI,CAACb,EAAN,CAA3E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAhDJ,CAjBJ,CADJ;AAsEH,CA5ID;;AA8IA,eAAenC,eAAf","sourcesContent":["import React,{useState} from 'react';\r\nimport { toast } from \"react-toastify\";\r\nimport Swal from 'sweetalert2';\r\nimport axios from \"axios\";\r\nimport { Button, Modal } from 'react-bootstrap'\r\nconst CardMovieDetail = (props) => {\r\n    const [newmovie, setnewmovie] = useState({\r\n        Movie:'',\r\n        Year:'',\r\n        Content:'',\r\n    \r\n    \r\n      });\r\n    const [modalInfo,setmodalInfo] = useState([]);\r\n    const [showModal,setshowModal] = useState(false)\r\n    const [show,setshow] = useState(false)\r\n    \r\n    const [image, setimage] = useState()\r\n    function handleChange(e){\r\n      \r\n      const {name,value} = e.target;\r\n      setnewmovie(newmovie=>({...newmovie,[name]:value}));\r\n      console.log(newmovie)\r\n    }\r\n    async  function handleSubmit(e){\r\n        console.log(\"kjhgfds\");\r\n        e.preventDefault();\r\n        try {\r\n          const formData = new FormData();\r\n    \r\n          formData.append(\"Image\",image);\r\n          formData.append(\"Movie\", newmovie['Movie']);\r\n          formData.append(\"Content\", newmovie['Content']);\r\n          formData.append(\"Year\", newmovie['Year']);\r\n          // I just removed the curly brackets from formData\r\n          const response = await axios.post(\"http://127.0.0.1:8000/api/new_movie\", formData);\r\n          props.refetchData()\r\n          toast.success(\"update thanh cong\")\r\n          \r\n    } catch (err) {\r\n          console.error(err.message);\r\n    }\r\n      }\r\n    const delete_item = async (id) => {\r\n\r\n        Swal.fire({\r\n            title: \"muon xoa thiet ha?\",\r\n            text: \"thiet hong dzo?\",\r\n            icon: \"warning\",\r\n            showCancelButton: true,\r\n            confirmButtonText: \"oke toi luon\",\r\n            cancelButtonText: \"Há»§y\"\r\n        })\r\n            .then(result => {\r\n                if (result.isConfirmed) {\r\n                    let callAPI = \"http://127.0.0.1:8000/api/movie_ID/\" + id.toString()\r\n                    try {\r\n                        const data = axios({\r\n                            method: \"DELETE\",\r\n                            url: callAPI\r\n                        }).then(res => {\r\n                            props.refetchData()\r\n\r\n                            toast.success(\"Xong roofi nha em yeu\")\r\n                        })\r\n\r\n                    }\r\n                    catch (e) {\r\n                        console.log(e)\r\n                    }\r\n\r\n                }\r\n            })\r\n    }\r\n    const { data } = props\r\n    return (\r\n        <>\r\n            <td className=\"border-t-0 px-6 align-middle border-l-0 border-r-0 t-xs whitespace-no-wrap p-4\">\r\n                {data.id}\r\n            </td>\r\n            <td className=\"border-t-0 px-6 align-middle border-l-0 border-r-0 t-xs whitespace-no-wrap p-4\">\r\n                {data.Movie}\r\n            </td>\r\n            <td className=\"border-t-0 px-6 align-middle border-l-0 border-r-0 t-xs whitespace-no-wrap p-4\">\r\n                <div className=\"flex\">\r\n                    {data.Year}\r\n                </div>\r\n            </td>\r\n            <td className=\"border-t-0 px-6 align-middle border-l-0 border-r-0 t-xs whitespace-no-wrap p-4\">\r\n                <div className=\"flex\">\r\n                    {data.Image}\r\n                </div>\r\n            </td>\r\n            <td className=\"border-t-0 px-6 align-middle border-l-0 border-r-0 t-xs whitespace-no-wrap p-4\">\r\n\r\n\r\n                <button type=\"button\" className=\"btn btn-dark mr-3\" data-toggle=\"modal\" data-target=\"#exampleModalLong\" >EDIT</button>\r\n                <div className=\"modal fade\" id=\"exampleModalLong{{data.id}}\" tabIndex={-1} role=\"dialog\" aria-labelledby=\"exampleModalLongTitle\" aria-hidden=\"true\">\r\n                    <div className=\"modal-dialog\" role=\"document\">\r\n                        <div className=\"modal-content\">\r\n                            <div className=\"modal-header\">\r\n                                <h5 className=\"modal-title\" id=\"exampleModalLongTitle\">Modal title</h5>\r\n                                <button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n                                    <span aria-hidden=\"true\">Ã</span>\r\n                                </button>\r\n                            </div>\r\n                            <div className=\"modal-body\">\r\n                                <form name=\"form\" >\r\n                                    <div className=\"form-group\">\r\n                                        <label >Movie</label>\r\n                                        <input type=\"text\" className=\"form-control\" name=\"Movie\" value={data.Movie} onChange={handleChange} />\r\n\r\n                                    </div>\r\n                                    <div className=\"form-group\">\r\n                                        <label >Year</label>\r\n                                        <input type=\"text\" className=\"form-control\" name=\"Year\" value={data.Year} onChange={handleChange} />\r\n\r\n                                    </div>\r\n                                    <div className=\"form-group\">\r\n                                        <label >Content</label>\r\n                                        <textarea  type=\"text\" className=\"form-control\" name=\"Content\" value={data.Content} onChange={handleChange} />\r\n\r\n                                    </div>\r\n                                    <div className=\"form-group\">\r\n                                        <label >image</label>\r\n                                        <img src={data.Image} alt = \"image\"></img>\r\n                                        <input type=\"file\" className=\"form-control\" name=\"Image\" onChange={(e) => setimage(e.target.files[0])}\r\n                                        />\r\n\r\n                                    </div>\r\n\r\n\r\n                                </form>\r\n                            </div>\r\n                            <div className=\"modal-footer\">\r\n                                <button type=\"button\" className=\"btn btn-secondary\" data-dismiss=\"modal\">Close</button>\r\n                                <button type=\"button\" className=\"btn btn-primary\" onClick={handleSubmit}>Send</button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <button type=\"button\" className=\"btn btn-danger\" onClick={() => delete_item(data.id)} >DELETE</button>\r\n            </td>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default CardMovieDetail;"]},"metadata":{},"sourceType":"module"}